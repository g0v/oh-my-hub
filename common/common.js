function in$(t,r){for(var n=-1,e=r.length>>>0;++n<e;)if(t===r[n])return!0;return!1}angular.module("ohmyhub.common",[]).filter("containsAnyAattr",function(){return function(t,r){var n,e;return t.length>0&&r?(n=require("prelude-ls"),e=function(t){var e,u;return n.andList(function(){var i,o=[];for(e in i=r)u=i[e],o.push(t[e]&&n.intersection(u,t[e]).length>0||!1);return o}())},n.filter(e)(t)):[]}}).factory("FiltersStore",function(){var t,r;return t=require("prelude-ls"),r={attributes:{},indicators:[]},{clear:function(){return r={attributes:{},indicators:[]}},get:function(){return r},add:function(t,n){if(null==t||null==n)throw new Erro("try to add undifined condition into filters.");if(console.log("Added filter attribute: "+n),null==r.attributes[t]&&(r.attributes[t]=[]),in$(n,r.attributes[t]))throw new Error("should not add a duplicated attribute into filters.");return r.attributes[t].push(n),r.indicators.push({name:n,category:t})},del:function(n,e){var u,i;if(null==n||null==e)throw new Error("try to remove undifined condition from filters.");if(!(null!=r.attributes[n]&&r.attributes[n].length>0))throw new Error("should not remove a attribute from empty filters.");return console.log("Removed filter attribute: "+e),r.attributes[n]=t.reject(function(t){return angular.equals(t,e)},r.attributes[n]),r.indicators=t.reject(function(t){return angular.equals(t,{name:e,category:n})},r.indicators),0===r.attributes[n].length?(i=(u=r.attributes)[n],delete u[n],i):void 0}}}).factory("ActivedHubsStatus",function(){var t,r;return t=null,r={},{get:function(){return{"default":t,hubs:r}},add:function(t,n){return r[t]=n},"default":function(n){if(null!=r[n])return t=r[n];throw"unactived hub: "+n}}}).factory("HubMenu",function(){return{create:function(t,r){var n,e,u,i,o,l,a,f,c,s,d,h,b;for(n={},e={},u={toggle:{"switch":!1}},i=0,o=t.length;o>i;++i)for(l=t[i],a=0,f=r.length;f>a;++a)for(c=r[a],u.toggle[c]=!1,s=l[c]||[],null==n[c]&&(n[c]={},e[c]=0),d=0,h=s.length;h>d;++d)b=s[d],null==n[c][b]?n[c][b]=1:n[c][b]+=1,n[c]&&(e[c]=Object.keys(n[c]).length);return[n,e,u]}}});